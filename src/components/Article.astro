---
import dayjs from "dayjs";

export type ArticleProps = {
  title: string;
  date: string;
  author: string;
  url?: string;
};

type Props = ArticleProps;

const { title, date, author, url } = Astro.props;

const today = dayjs();
const published = today >= dayjs(date);
---

<div
  class="mb-4 w-full p-2 rounded-lg grid grid-cols-1 sm:grid-cols-3 md:grid-cols-4"
>
  <p class="text-gray-700 text-base mb-1 break-words truncate">
    {date}
  </p>
  <p class="text-gray-700 text-base mb-1 break-words truncate">
    {author}
  </p>
  <p
    class="leading-tight font-medium mb-1 truncate sm:col-span-3 md:col-span-2"
  >
    {
      published ? (
        <a href={url} class="text-[#000D94] visited:text-[#480069] underline">
          {title}
        </a>
      ) : (
        <>{title}</>
      )
    }
  </p>
</div>
